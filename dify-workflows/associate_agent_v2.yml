app:
  description: 'Deal Bot Org-Sim v2: Associate Agent — verifies analyst claims, fills evidence gaps via tools, synthesizes into hypotheses + unknowns as strict JSON.'
  icon: "\U0001F9E0"
  icon_background: '#D5F5F6'
  mode: agent-chat
  name: associate_agent_v2
  use_icon_as_answer_icon: false
dependencies: []
kind: app
model_config:
  agent_mode:
    enabled: true
    max_iteration: 10
    strategy: function_call
    tools:
    - enabled: true
      isDeleted: false
      notAuthor: false
      provider_id: dealbot_tools
      provider_name: dealbot_tools
      provider_type: api
      tool_label: Cala Search
      tool_name: calaSearch
      tool_parameters:
        query: ''
    - enabled: true
      isDeleted: false
      notAuthor: false
      provider_id: dealbot_tools
      provider_name: dealbot_tools
      provider_type: api
      tool_label: Specter Enrich
      tool_name: specterEnrich
      tool_parameters:
        domain: ''
    - enabled: true
      isDeleted: false
      notAuthor: false
      provider_id: dealbot_tools
      provider_name: dealbot_tools
      provider_type: api
      tool_label: Specter Similar Companies
      tool_name: specterSimilarCompanies
      tool_parameters:
        company_id: ''
    - enabled: true
      isDeleted: false
      notAuthor: false
      provider_id: dealbot_tools
      provider_name: dealbot_tools
      provider_type: api
      tool_label: Specter Company People
      tool_name: specterCompanyPeople
      tool_parameters:
        company_id: ''
    - enabled: true
      isDeleted: false
      notAuthor: false
      provider_id: dealbot_tools
      provider_name: dealbot_tools
      provider_type: api
      tool_label: Specter Search Name
      tool_name: specterSearchName
      tool_parameters:
        query: ''
  annotation_reply:
    enabled: false
  chat_prompt_config: {}
  completion_prompt_config: {}
  dataset_configs:
    datasets:
      datasets: []
    retrieval_model: single
  dataset_query_variable: ''
  external_data_tools: []
  file_upload:
    image:
      detail: high
      enabled: false
      number_limits: 3
      transfer_methods:
      - remote_url
      - local_file
  model:
    completion_params:
      frequency_penalty: 0
      max_tokens: 3500
      presence_penalty: 0
      stop: []
      temperature: 0.2
      top_p: 0.9
    mode: chat
    name: gpt-4o-mini
    provider: openai
  more_like_this:
    enabled: false
  opening_statement: ''
  pre_prompt: >
    You are a VC Associate synthesizing analyst research into an actionable investment thesis.


    ## YOUR TOOLS — USE THEM ALL TO VERIFY, FILL GAPS, AND GO DEEPER

    You have 6 research tools. Use them aggressively to strengthen your synthesis beyond what analysts found:

    1. **Cala Search** — Search knowledge bases. Run AT LEAST 3 targeted queries:
       - Verify specific claims analysts made (corroborating or contradicting data)
       - Fill gaps in analyst unknowns (search for answers to their open questions)
       - Search for funding/valuation data, unit economics, revenue model

    2. **Specter Enrich** — Enrich companies by domain. Get hard data on competitors analysts mentioned.

    3. **Specter Similar Companies** — Get AI-matched competitors for the target company. Cross-reference with competition analyst's findings. Are there players they missed?

    4. **Specter Company People** — Get the full team roster. Verify team composition claims, identify key hire gaps, assess leadership depth.

    5. **Specter Search Name** — Look up specific companies mentioned in analyst outputs for more data.

    6. **Tavily Web Search** — Real-time web search. Find recent funding news, press releases, product launches. Search for founder track records and previous exits.


    ## MANDATORY TOOL SEQUENCE

    1. FIRST: Review all analyst outputs. Identify the 3-5 weakest claims and biggest gaps.
    2. THEN: Call specterSimilarCompanies + specterCompanyPeople to map competition and team (use company_id from company profile).
    3. THEN: Run 3+ Cala queries and 1-2 Tavily searches to fill the most impactful gaps.
    4. FINALLY: Produce structured hypotheses, unknowns, and follow-up requests.

    Cross-reference analyst outputs: flag contradictions between analysts. For each hypothesis, quantify the bull and bear case.


    ## DEAL INPUT

    {{deal_input}}


    ## FUND CONFIG

    {{fund_config}}


    ## ANALYST OUTPUTS (JSON array — one object per analyst)

    {{analyst_outputs}}


    ## COMPANY PROFILE (pre-enriched — cite specter-* evidence_ids, call specterEnrich for competitors)

    {{company_profile}}


    ## HARD CONSTRAINTS

    - hypotheses: array, MAX 6 items.
      Each: {"id": "h1", "text": "...", "support_evidence_ids": ["eid-..."], "risks": ["..."]}
      - "id" must be unique (h1, h2, ... h6).
      - Include evidence_ids from analyst facts AND from your own tool results.
      - If a hypothesis has no supporting evidence, add "NO_EVIDENCE" to risks.
      - risks: short bullet strings, not paragraphs.
    - top_unknowns: array of the MOST important unanswered questions.
      Each: {"question": "...", "why_it_matters": "..."}
      - Must be specific, testable, and prioritized by impact on investment decision.
    - requests_to_analysts: array of follow-up tasks.
      Each: {"specialization": "market|competition|traction|team|regulatory|risks|other", "question": "..."}
      - Only include if genuinely needed after your tool research. Do not pad.
    - NO narrative. NO summaries. Atomic structured items ONLY.


    ## OUTPUT FORMAT

    After verification with tools, respond with ONLY a JSON object:

    {
      "hypotheses": [{"id": "h1", "text": "string", "support_evidence_ids": ["string"], "risks": ["string"]}],
      "top_unknowns": [{"question": "string", "why_it_matters": "string"}],
      "requests_to_analysts": [{"specialization": "string", "question": "string"}]
    }

    No markdown fences. No explanation. Just the raw JSON object.
  prompt_type: simple
  retriever_resource:
    enabled: false
  sensitive_word_avoidance:
    configs: []
    enabled: false
    type: ''
  speech_to_text:
    enabled: false
  suggested_questions: []
  suggested_questions_after_answer:
    enabled: false
  text_to_speech:
    enabled: false
  user_input_form:
  - paragraph:
      default: ''
      label: Deal Input
      required: true
      variable: deal_input
  - paragraph:
      default: '{}'
      label: Fund Config
      required: false
      variable: fund_config
  - paragraph:
      default: '[]'
      label: Analyst Outputs
      required: true
      variable: analyst_outputs
  - paragraph:
      default: ''
      label: Company Profile
      required: false
      variable: company_profile
version: 0.5.0
